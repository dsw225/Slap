<!DOCTYPE html />
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Hello World</title>
  <script defer type="module" src="todo.js"></script>
  <script src="app.js"></script>
  <link rel="stylesheet" href="todo.css" />
  <link rel="stylesheet" href="app.css" />
  <link href="https://fonts.googleapis.com/css?family=Fresca" rel="stylesheet">
</head>
<body onload="changeText()">
  <p id="demo">Hello CSE216 World! You should not see this after load.</p>
  <div id="addElement">
    <h3>Add a New Entry</h3>
    <label>Title</label>
    <input type="text" id="newTitle" />
    <label>Message</label>
    <textarea id="newMessage"></textarea>
    <button id="addButton">Add</button>
    <button id="addCancel">Cancel</button>
  </div>
  <div id="editElement">
    <h3>Edit an Entry</h3>
    <label>Title</label>
    <input type="text" id="editTitle" />
    <label>Message</label>
    <textarea id="editMessage"></textarea>
    <span id="editCreated"></span>
    <input type="hidden" id="editId" />
    <button id="editButton">Update</button>
    <button id="editCancel">Cancel</button>
  </div>
  <div id="showElements">
    <h3>All Messages</h3>
    <button id="showFormButton">Add Message</button>
    <div id="messageList"></div>
  </div>
  <hr />
  <app-root></app-root>
</body>

<script>
function changeText() {
    document.getElementById("demo").innerHTML = "Greetings, planet!";
}
window.addEventListener('load', function() {
    // your code here
    fetch('/messages')
        .then(response => response.json()) // could use .then(response => response.text())
        // .then(json => console.log(json))  // could use .then(text => console.log(text));
        .then(json => document.getElementById("demo").innerHTML = "The data is " + JSON.stringify(json))        
        .catch(error => console.error(error));
});
</script>

</html>